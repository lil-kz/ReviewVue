<!DOCTYPE html>
<html lang="en">
<!-- 
   eventBus
   可用于子父组件，也可用于同级组件
   

 -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <cpn></cpn>
    <cpn1></cpn1>
  </div>

  <template id="cpn">
    <div>
      我是兄弟二传来的名字：{{name}}
      我是兄弟一 
      <button @click="additionHandle">按钮一加</button>
    </div>
  </template>

  <template id="cpn1">
    <div>
      我是兄弟二
      <button @click="sendName">按钮二</button>
      <h2>兄弟一传过来的值 {{num}} </h2>
    </div>
  </template>

  <script src="./js/vue.js"></script>
  <script>
    const Bus = new Vue();
    
    const cpn = {
      template:'#cpn',
      data() {
        return {
          name:"",
          num:0,
        }
      },
      mounted() {
        Bus.$on("sendName",name=>{
          this.name = name
        })
      },
      methods:{
        additionHandle(){
          Bus.$emit('getNum', {
            num:this.num+=1
          })
        }
      },
    }

    const cpn1 = {
    template:'#cpn1',
      data() {
        return {
          name:"塔木德",
          num:0,
        }
      },
      mounted() {
      Bus.$on('getNum', param => {
      // console.log(param);
      this.num = this.num + param.num;
        })
      },
      methods:{ //给兄弟一传递名字
        sendName(){
          Bus.$emit("sendName",this.name);
        }
      }
    }
    

    const app = new Vue({
      el: "#app",
      data: {
        name: "周业坤",
      },
      components:{
        cpn,
        cpn1
      }
    })
  </script>
</body>

</html>